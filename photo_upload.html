<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>图片上传 - 堆场验箱系统</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/app-style.css">
    <link rel="stylesheet" href="css/mobile-app-style.css">
    <style>
        body {
            max-width: 430px;
            min-height: 1020px;
            height: 1020px;
            margin: 0 auto;
            position: relative;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            overflow-y: auto;
        }
        
        .app-bottom-nav {
            max-width: 430px;
            margin: 0 auto;
        }
    </style>
</head>
<body class="bg-gray-100 h-screen flex flex-col">
    <!-- 顶部状态栏 -->
    <div class="bg-white px-4 py-2 flex justify-between items-center">
        <div class="text-sm text-gray-600">9:41</div>
        <div class="flex space-x-2">
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-full"></i>
        </div>
    </div>
    
    <!-- 头部 - 简化设计 -->
    <div class="bg-white p-3 shadow-sm flex items-center justify-between">
        <div class="flex items-center">
            <a href="home.html" class="mr-3">
                <i class="fas fa-arrow-left text-gray-600"></i>
            </a>
            <h1 class="text-lg font-bold text-gray-800">照片上传</h1>
        </div>
        <a href="#" class="bg-gray-100 px-2 py-1 rounded-lg text-xs text-gray-600 flex items-center" id="view-history-btn">
            <i class="fas fa-history mr-1"></i>
            <span>历史记录</span>
        </a>
    </div>
    
    <!-- 简化进度指示器 -->
    <div class="bg-white border-t border-b border-gray-200 p-2">
        <div class="flex justify-between">
            <div class="flex items-center text-xs">
                <div class="w-5 h-5 rounded-full bg-gray-600 flex items-center justify-center text-white mr-1">
                    1
                </div>
                <span class="text-gray-600">选择集装箱</span>
            </div>
            <div class="flex-1 flex items-center justify-center px-2">
                <div class="h-0.5 w-full bg-gray-200"></div>
            </div>
            <div class="flex items-center text-xs">
                <div class="w-5 h-5 rounded-full bg-gray-600 flex items-center justify-center text-white mr-1">
                    2
                </div>
                <span class="text-gray-600">拍摄上传</span>
            </div>
            <div class="flex-1 flex items-center justify-center px-2">
                <div class="h-0.5 w-full bg-gray-200"></div>
            </div>
            <div class="flex items-center text-xs">
                <div class="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 mr-1">
                    3
                </div>
                <span class="text-gray-500">提交验收</span>
            </div>
        </div>
    </div>
    
    <!-- 简化主内容 -->
    <div class="p-3 pb-20 overflow-auto">
        <!-- 集装箱信息卡片 -->
        <div class="bg-white rounded-lg p-3 shadow-sm mb-3">
            <div class="flex justify-between items-center mb-2">
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center text-white mr-2">
                        <i class="fas fa-box"></i>
                    </div>
                    <h2 class="text-sm font-medium text-gray-800">MSCU-123456-7</h2>
                </div>
                <button class="bg-gray-200 text-gray-600 px-2 py-1 rounded text-xs flex items-center">
                    <i class="fas fa-qrcode mr-1"></i> 扫描箱号
                </button>
            </div>
            <div class="flex text-xs">
                <span class="text-gray-500 mr-2">40尺高柜</span>
                <span class="text-gray-500 mr-2">空柜</span>
                <span class="text-gray-500">A12-05</span>
            </div>
        </div>
        
        <!-- 拍照上传操作 -->
        <div class="bg-white rounded-lg p-3 shadow-sm mb-3">
            <div class="flex justify-between items-center mb-3">
                <h2 class="text-sm font-medium text-gray-800">照片类型</h2>
                <button class="text-xs text-blue-500">
                    <i class="fas fa-question-circle mr-1"></i>拍摄要求
                </button>
            </div>
            
            <!-- 简化照片类型选择 -->
            <div class="grid grid-cols-4 gap-2 mb-3">
                <div class="flex flex-col items-center">
                    <div class="w-10 h-10 bg-gray-600 text-white rounded-lg flex items-center justify-center mb-1">
                        <i class="fas fa-door-open"></i>
                    </div>
                    <span class="text-xs text-gray-600">箱门</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center mb-1">
                        <i class="fas fa-border-all text-gray-600"></i>
                    </div>
                    <span class="text-xs text-gray-600">侧板</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center mb-1">
                        <i class="fas fa-square text-gray-600"></i>
                    </div>
                    <span class="text-xs text-gray-600">顶板</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center mb-1">
                        <i class="fas fa-plus text-gray-600"></i>
                    </div>
                    <span class="text-xs text-gray-600">更多</span>
                </div>
            </div>
            
            <!-- 拍照按钮 -->
            <div class="flex gap-2 mb-3">
                <button class="flex-1 bg-gray-600 text-white py-2 rounded-lg text-sm flex items-center justify-center" id="take-photo-btn">
                    <i class="fas fa-camera mr-1"></i> 拍照
                </button>
                <button class="flex-1 bg-gray-200 text-gray-600 py-2 rounded-lg text-sm flex items-center justify-center" id="select-from-album-btn">
                    <i class="fas fa-images mr-1"></i> 从相册选择
                </button>
            </div>
        </div>
        
        <!-- 简化照片管理 -->
        <div class="bg-white rounded-lg p-3 shadow-sm mb-3">
            <div class="flex justify-between items-center mb-3">
                <h2 class="text-sm font-medium text-gray-800">照片管理</h2>
                <div class="flex space-x-2 text-xs">
                    <div class="px-2 py-0.5 bg-green-100 text-green-700 rounded-full">已上传 5</div>
                    <div class="px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full">待上传 2</div>
                </div>
            </div>
            
            <!-- 照片网格 - 已大幅简化 -->
            <div class="grid grid-cols-3 gap-2 mb-3">
                <!-- 已上传照片示例 -->
                <div class="aspect-square bg-gray-100 rounded-lg overflow-hidden relative">
                    <img src="https://placehold.co/200x200/e5e7eb/a1a1aa?text=箱门照片" alt="箱门照片" class="w-full h-full object-cover">
                    <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1">
                        <div class="flex justify-between items-center">
                            <span class="truncate">箱门</span>
                            <i class="fas fa-check-circle text-green-400"></i>
                        </div>
                    </div>
                </div>
                
                <div class="aspect-square bg-gray-100 rounded-lg overflow-hidden relative">
                    <img src="https://placehold.co/200x200/e5e7eb/a1a1aa?text=左侧板" alt="左侧板" class="w-full h-full object-cover">
                    <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1">
                        <div class="flex justify-between items-center">
                            <span class="truncate">左侧板</span>
                            <i class="fas fa-check-circle text-green-400"></i>
                        </div>
                    </div>
                </div>
                
                <div class="aspect-square bg-gray-100 rounded-lg overflow-hidden relative">
                    <img src="https://placehold.co/200x200/e5e7eb/a1a1aa?text=箱号" alt="箱号" class="w-full h-full object-cover">
                    <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1">
                        <div class="flex justify-between items-center">
                            <span class="truncate">箱号</span>
                            <i class="fas fa-check-circle text-green-400"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 上传中照片示例 -->
                <div class="aspect-square bg-gray-100 rounded-lg overflow-hidden relative">
                    <img src="https://placehold.co/200x200/e5e7eb/a1a1aa?text=角件" alt="角件" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center">
                        <div class="w-10 h-10 rounded-full bg-black bg-opacity-50 flex items-center justify-center">
                            <div class="w-8 h-8 rounded-full border-2 border-white border-t-transparent animate-spin"></div>
                        </div>
                    </div>
                    <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1">
                        <div class="flex justify-between">
                            <span class="truncate">角件</span>
                            <span>75%</span>
                        </div>
                    </div>
                </div>
                
                <!-- 待上传照片示例 -->
                <div class="aspect-square bg-gray-100 rounded-lg overflow-hidden relative">
                    <img src="https://placehold.co/200x200/e5e7eb/a1a1aa?text=顶板照片" alt="顶板照片" class="w-full h-full object-cover">
                    <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1">
                        <span class="truncate">顶板</span>
                    </div>
                </div>
                
                <!-- 添加更多 -->
                <div class="aspect-square bg-gray-100 rounded-lg flex items-center justify-center border border-dashed border-gray-300">
                    <i class="fas fa-plus text-gray-400"></i>
                </div>
            </div>
            
            <!-- 简化的照片操作 -->
            <div class="flex justify-end">
                <button class="bg-gray-600 text-white px-3 py-1.5 rounded-lg text-sm" id="upload-all-btn">
                    <i class="fas fa-cloud-upload-alt mr-1"></i> 全部上传
                </button>
            </div>
        </div>
        
        <!-- 简化的提交按钮 -->
        <button class="w-full bg-gray-600 text-white py-3 rounded-lg font-medium shadow-md">
            <i class="fas fa-check-circle mr-1"></i> 提交完成验收
        </button>
    </div>
    
    <!-- 底部导航 -->
    <div class="fixed bottom-0 left-0 right-0 bg-gray-300 border-t border-gray-400 flex justify-around py-2">
        <a href="home.html" class="flex flex-col items-center text-gray-500">
            <i class="fas fa-home text-xl"></i>
            <span class="text-xs mt-0.5">首页</span>
        </a>
        <a href="task_list.html" class="flex flex-col items-center text-gray-800">
            <i class="fas fa-list-alt text-xl"></i>
            <span class="text-xs mt-0.5">任务</span>
        </a>
        <a href="#" class="flex flex-col items-center text-gray-500">
            <i class="fas fa-chart-bar text-xl"></i>
            <span class="text-xs mt-0.5">统计</span>
        </a>
        <a href="settings.html" class="flex flex-col items-center text-gray-500">
            <i class="fas fa-user text-xl"></i>
            <span class="text-xs mt-0.5">我的</span>
        </a>
    </div>

    <!-- 简化的图片预览弹窗 -->
    <div id="photo-preview-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50 flex items-center justify-center">
        <div class="bg-white rounded-lg w-11/12 max-h-[90vh] overflow-auto">
            <div class="p-3 border-b border-gray-200 flex justify-between items-center">
                <h3 class="font-medium">箱门照片</h3>
                <button id="close-preview" class="text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-3">
                <div class="max-h-[60vh] overflow-hidden">
                    <img id="preview-image" src="https://placehold.co/200x200/e5e7eb/a1a1aa?text=箱门照片" alt="预览图片" class="w-full object-contain">
                </div>
                <div class="flex justify-end mt-4 space-x-2">
                    <button id="delete-photo" class="bg-red-500 text-white px-3 py-2 rounded text-sm flex items-center">
                        <i class="fas fa-trash mr-1"></i> 删除
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 点击预览照片
            document.querySelectorAll('.aspect-square').forEach(photo => {
                photo.addEventListener('click', function() {
                    if(!this.querySelector('.fa-plus')) {
                        document.getElementById('photo-preview-modal').classList.remove('hidden');
                    }
                });
            });
            
            // 关闭预览弹窗
            document.getElementById('close-preview').addEventListener('click', function() {
                document.getElementById('photo-preview-modal').classList.add('hidden');
            });
            
            // 拍照按钮事件
            document.getElementById('take-photo-btn').addEventListener('click', function() {
                showToast('正在启动相机...');
            });
            
            // 从相册选择按钮事件
            document.getElementById('select-from-album-btn').addEventListener('click', function() {
                showToast('正在打开相册...');
            });
            
            // 全部上传按钮事件
            document.getElementById('upload-all-btn').addEventListener('click', function() {
                showToast('开始上传所有照片...');
            });
            
            // 显示Toast消息
            function showToast(message) {
                const toast = document.createElement('div');
                toast.className = 'fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm z-50';
                toast.textContent = message;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.classList.add('opacity-0');
                    toast.style.transition = 'opacity 0.5s';
                    setTimeout(() => {
                        document.body.removeChild(toast);
                    }, 500);
                }, 2000);
            }
        });
    </script>
</body>
</html> 
